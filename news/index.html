<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • httr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">httr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.4.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/quickstart.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/secrets.html">Managing secrets</a>
    </li>
    <li>
      <a href="../articles/api-packages.html">Best practices for API packages</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/12/httr-1-4-0/">Version 1.4.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/r-lib/httr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/r-lib/httr/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="httr-development-version" class="section level1">
<h1 class="page-header" data-toc-text="development version">
<a href="#httr-development-version" class="anchor"></a>httr (development version)<small> Unreleased </small>
</h1>
</div>
    <div id="httr-142" class="section level1">
<h1 class="page-header" data-toc-text="1.4.2">
<a href="#httr-142" class="anchor"></a>httr 1.4.2<small> 2020-07-20 </small>
</h1>
<ul>
<li><p>Fix failing test.</p></li>
<li><p><code><a href="../reference/parse_url.html">parse_url()</a></code> now refers to RFC3986 for the parsing of the URL’s scheme, with a bit more permissive syntax (<a href='https://github.com/ymarcon'>@ymarcon</a>, <a href='https://github.com/r-lib/httr/issues/615'>#615</a>).</p></li>
</ul>
</div>
    <div id="httr-141" class="section level1">
<h1 class="page-header" data-toc-text="1.4.1">
<a href="#httr-141" class="anchor"></a>httr 1.4.1<small> 2019-08-05 </small>
</h1>
<ul>
<li><p>Remove the default <code>cainfo</code> option on Windows. Providing a CA bundle is not needed anymore because <code>curl</code> now uses the native schannel SSL backend. For recent versions of libcurl, overriding the CA bundle actually breaks custom trust certificates on corporate networks. (<a href='https://github.com/jeroen'>@jeroen</a>, <a href='https://github.com/r-lib/httr/issues/603'>#603</a>)</p></li>
<li><p><code><a href="../reference/http_status.html">http_status()</a></code> now throws the correct error message if http status code is not in the list of known codes (<a href='https://github.com/Javdat'>@Javdat</a>, <a href='https://github.com/r-lib/httr/issues/567'>#567</a>).</p></li>
<li><p><code><a href="../reference/POST.html">POST()</a></code> gains an example on how to use <code>encode = "raw"</code> for specific json string body (<a href='https://github.com/cderv'>@cderv</a>, <a href='https://github.com/r-lib/httr/issues/563'>#563</a>)</p></li>
<li><p><code><a href="../reference/RETRY.html">RETRY()</a></code> now throws the correct error message if an error occurs during the request (<a href='https://github.com/austin3dickey'>@austin3dickey</a>, <a href='https://github.com/r-lib/httr/issues/581'>#581</a>).</p></li>
<li><p><code><a href="../reference/VERB.html">VERB()</a></code> and <code><a href="../reference/RETRY.html">RETRY()</a></code> now automatically uppercase methods (<a href='https://github.com/patr1ckm'>@patr1ckm</a>, <a href='https://github.com/r-lib/httr/issues/571'>#571</a>).</p></li>
</ul>
</div>
    <div id="httr-140" class="section level1">
<h1 class="page-header" data-toc-text="1.4.0">
<a href="#httr-140" class="anchor"></a>httr 1.4.0<small> 2018-12-11 </small>
</h1>
<div id="oauth" class="section level2">
<h2 class="hasAnchor">
<a href="#oauth" class="anchor"></a>OAuth</h2>
<p>OAuth2.0 has been made somewhat more flexible in order to support more websites:</p>
<ul>
<li><p><code><a href="../reference/init_oauth2.0.html">init_oauth2.0()</a></code> passes <code>use_basic_auth</code> onwards, enabling basic authentication for OAuth 2.0 (<a href='https://github.com/peterhartman'>@peterhartman</a>, <a href='https://github.com/r-lib/httr/issues/484'>#484</a>).</p></li>
<li><p><code><a href="../reference/oauth2.0_token.html">oauth2.0_token()</a></code> (and <code><a href="../reference/init_oauth2.0.html">init_oauth2.0()</a></code>) gains a <code>oob_value</code> argument that allows arbitrary values to be sent for the <code>request_uri</code> parameter during OOB flows (<a href='https://github.com/ctrombley'>@ctrombley</a>, <a href='https://github.com/r-lib/httr/issues/493'>#493</a>).</p></li>
<li><p><code><a href="../reference/oauth2.0_token.html">oauth2.0_token()</a></code> (and <code><a href="../reference/init_oauth2.0.html">init_oauth2.0()</a></code>) gain a new <code>query_authorize_extra</code> parameter make it possible to add extra query parameters to the authorization URL. This is needed some APIs (e.g. fitbit) (<a href='https://github.com/cosmomeese'>@cosmomeese</a>, <a href='https://github.com/r-lib/httr/issues/503'>#503</a>).</p></li>
<li><p><code><a href="../reference/oauth_endpoints.html">oauth_endpoints()</a></code> contains updated urls for Yahoo (<a href='https://github.com/ctrombley'>@ctrombley</a>, <a href='https://github.com/r-lib/httr/issues/493'>#493</a>) and Vimeo (<a href='https://github.com/r-lib/httr/issues/491'>#491</a>).</p></li>
<li><p>OAuth 2.0 token refresh gives a more informative error if it fails (<a href='https://github.com/r-lib/httr/issues/516'>#516</a>).</p></li>
<li><p>Prior to token retrieval from on-disk cache, scopes are de-duplicated, sorted, and stripped of names before being hashed. This eliminates a source of hash mismatch that causes new tokens to be requested, even when existing tokens had the necessary scope. (<a href='https://github.com/jennybc'>@jennybc</a>, <a href='https://github.com/r-lib/httr/issues/495'>#495</a>)</p></li>
</ul>
<p>Updates to demos:</p>
<ul>
<li><p>The Facebook OAuth demo now uses device flow (<a href='https://github.com/r-lib/httr/issues/510'>#510</a>). This allows you to continue using the FB api from R under their new security policy.</p></li>
<li><p>A new Noun Project demo shows how to use one-legged OAuth1 (<a href='https://github.com/cderv'>@cderv</a>, <a href='https://github.com/r-lib/httr/issues/548'>#548</a>).</p></li>
<li><p>The Vimeo demo has been updated from OAuth 1.0 to 2.0 (<a href='https://github.com/r-lib/httr/issues/491'>#491</a>).</p></li>
</ul>
</div>
<div id="minor-changes-and-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-changes-and-improvements" class="anchor"></a>Minor changes and improvements</h2>
<ul>
<li><p><code><a href="../reference/cache_info.html">cache_info()</a></code> now handles un-named flags, as illustrated by “private” when the server returns “private, max-age = 0”.</p></li>
<li><p><code><a href="../reference/parse_http_date.html">parse_http_date()</a></code> gets a better default value for the <code>failure</code> argument so that reponses with unparseable dates can be printed without error (<a href='https://github.com/shrektan'>@shrektan</a>, <a href='https://github.com/r-lib/httr/issues/544'>#544</a>).</p></li>
<li><p><code><a href="../reference/POST.html">POST()</a></code> now uses 22 digits of precision for <code>body</code> list elements by default (<a href='https://github.com/jmwerner'>@jmwerner</a>, <a href='https://github.com/r-lib/httr/issues/490'>#490</a>)</p></li>
<li><p><code><a href="../reference/RETRY.html">RETRY()</a></code> now terminates on any successful request, regardless of the value of <code>terminate_on</code>. To return to the previous behaviour, set <code>terminate_on_success = FALSE</code> (<a href='https://github.com/r-lib/httr/issues/522'>#522</a>).</p></li>
<li><p>In <code><a href="../reference/RETRY.html">RETRY()</a></code> and <code><a href="../reference/VERB.html">VERB()</a></code>, <code>HEAD</code> requests now succeed (<a href='https://github.com/r-lib/httr/issues/478'>#478</a>, <a href='https://github.com/r-lib/httr/issues/499'>#499</a>).</p></li>
<li><p>Encoding falls back to UTF-8 if not supplied and content-type parsing fails (<a href='https://github.com/r-lib/httr/issues/500'>#500</a>).</p></li>
<li><p>Non-http(s) headers are no longer parsed (<a href='https://github.com/billdenney'>@billdenney</a>, <a href='https://github.com/r-lib/httr/issues/537'>#537</a>). This makes it possible to use httr with protocols other than http, although this is not advised, and you’re own your own.</p></li>
</ul>
</div>
</div>
    <div id="httr-131" class="section level1">
<h1 class="page-header" data-toc-text="1.3.1">
<a href="#httr-131" class="anchor"></a>httr 1.3.1<small> 2017-08-20 </small>
</h1>
<ul>
<li>Re-enable on-disk caching (accidentally disabled in <a href='https://github.com/r-lib/httr/issues/457'>#457</a>) (<a href='https://github.com/r-lib/httr/issues/475'>#475</a>)</li>
</ul>
</div>
    <div id="httr-130" class="section level1">
<h1 class="page-header" data-toc-text="1.3.0">
<a href="#httr-130" class="anchor"></a>httr 1.3.0<small> 2017-08-16 </small>
</h1>
<div id="api-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#api-changes" class="anchor"></a>API changes</h2>
<ul>
<li><p>Deprecated <code>safe_callback()</code> has been removed.</p></li>
<li><p><code>is_interactive</code> argument to <code><a href="../reference/init_oauth1.0.html">init_oauth1.0()</a></code>, <code><a href="../reference/init_oauth2.0.html">init_oauth2.0()</a></code> and <code><a href="../reference/oauth_listener.html">oauth_listener()</a></code> has been deprecated, as the R session does not actually need to be interactive.</p></li>
</ul>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li><p>New <code><a href="../reference/get_callback.html">set_callback()</a></code> and <code><a href="../reference/get_callback.html">get_callback()</a></code> set and query callback functions that are called right before and after performing an HTTP request (<a href='https://github.com/gaborcsardi'>@gaborcsardi</a>, <a href='https://github.com/r-lib/httr/issues/409'>#409</a>)</p></li>
<li>
<p><code><a href="../reference/RETRY.html">RETRY()</a></code> now retries if an error occurs during the request (<a href='https://github.com/asieira'>@asieira</a>, <a href='https://github.com/r-lib/httr/issues/404'>#404</a>), and gains two new arguments:</p>
<ul>
<li><p><code>terminate_on</code> gives you greater control over which status codes should it stop retrying. (<a href='https://github.com/asieira'>@asieira</a>, <a href='https://github.com/r-lib/httr/issues/404'>#404</a>)</p></li>
<li><p><code>pause_min</code> allows for sub-second delays. (Use with caution! Generally the default is preferred.) (<a href='https://github.com/r2evans'>@r2evans</a>)</p></li>
<li><p>If the server returns HTTP status code 429 and specifies a <code>retry-after</code> value, that value will now be used instead of exponential backoff with jitter, unless it’s smaller than <code>pause_min</code>. (<a href='https://github.com/nielsoledam'>@nielsoledam</a>, <a href='https://github.com/r-lib/httr/issues/472'>#472</a>)</p></li>
</ul>
</li>
</ul>
</div>
<div id="oauth-1" class="section level2">
<h2 class="hasAnchor">
<a href="#oauth-1" class="anchor"></a>OAuth</h2>
<ul>
<li><p>New oauth cache files are always added to <code>.gitignore</code> and, if it exists, <code>.Rbuildignore</code>. Specifically, this now happens when option <code>httr_oauth_cache = TRUE</code> or user specifies cache file name explicitly. (<a href='https://github.com/jennybc'>@jennybc</a>, <a href='https://github.com/r-lib/httr/issues/436'>#436</a>)</p></li>
<li><p><code>oauth_encode()</code> now handles UTF-8 characters correctly. (<a href='https://github.com/yutannihilation'>@yutannihilation</a>, <a href='https://github.com/r-lib/httr/issues/424'>#424</a>)</p></li>
<li><p><code><a href="../reference/oauth_app.html">oauth_app()</a></code> allows you to specify the <code>redirect_url</code> if you need to customise it.</p></li>
<li><p><code><a href="../reference/oauth_service_token.html">oauth_service_token()</a></code> gains a <code>sub</code> parameter so you can request access on behalf of another user (<a href='https://github.com/r-lib/httr/issues/410'>#410</a>), and accepts a character vector of <code>scopes</code> as was described in the documentation (<a href='https://github.com/r-lib/httr/issues/389'>#389</a>).</p></li>
<li><p><code><a href="../reference/oauth_signature.html">oauth_signature()</a></code> now normalises the URL as described in the OAuth1.0a spec (<a href='https://github.com/leeper'>@leeper</a>, <a href='https://github.com/r-lib/httr/issues/435'>#435</a>)</p></li>
<li><p>New <code><a href="../reference/init_oauth2.0.html">oauth2.0_authorize_url()</a></code> and <code><a href="../reference/init_oauth2.0.html">oauth2.0_access_token()</a></code> functions pull out parts of the OAuth process for reuse elsewhere (<a href='https://github.com/r-lib/httr/issues/457'>#457</a>).</p></li>
<li>
<p><code><a href="../reference/oauth2.0_token.html">oauth2.0_token()</a></code> gains three new arguments:</p>
<ul>
<li><p><code>config_init</code> allows you to supply additional config for the initial request. This is needed for some APIs (e.g. reddit) which rate limit based on <code>user_agent</code> (<a href='https://github.com/muschellij2'>@muschellij2</a>, <a href='https://github.com/r-lib/httr/issues/363'>#363</a>).</p></li>
<li><p><code>client_credentials</code>, allows you to use the OAauth2 <em>Client Credential Grant</em>. See <a href="https://tools.ietf.org/html/rfc6749#section-4">RFC 6749</a> for details. (<a href='https://github.com/cderv'>@cderv</a>, <a href='https://github.com/r-lib/httr/issues/384'>#384</a>)</p></li>
<li><p>A <code>credentials</code> argument that allows you to customise the auth flow. For advanced used only (<a href='https://github.com/r-lib/httr/issues/457'>#457</a>)</p></li>
</ul>
</li>
<li><p><code>is_interactive</code> argument to <code><a href="../reference/init_oauth1.0.html">init_oauth1.0()</a></code>, <code><a href="../reference/init_oauth2.0.html">init_oauth2.0()</a></code> and <code><a href="../reference/oauth_listener.html">oauth_listener()</a></code> has been deprecated, as the R session does not need to be interactive.</p></li>
</ul>
</div>
<div id="minor-bug-fixes-and-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-bug-fixes-and-improvements" class="anchor"></a>Minor bug fixes and improvements</h2>
<ul>
<li><p><code>BROWSER()</code> prints a message telling you to browse to the URL if called in a non-interactive session.</p></li>
<li><p><code>find_cert_bundle()</code> will now correctly find cert bundle in “R_HOME/etc” (<a href='https://github.com/jiwalker-usgs'>@jiwalker-usgs</a>, <a href='https://github.com/r-lib/httr/issues/386'>#386</a>).</p></li>
<li><p>You can now send lists containing <code><a href="https://jeroen.cran.dev/curl/reference/multipart.html">curl::form_data()</a></code> in the <code>body</code> of requests with `encoding = “multipart”. This makes it possible to specify the mime-type of individual components (<a href='https://github.com/r-lib/httr/issues/430'>#430</a>).</p></li>
<li><p><code><a href="../reference/modify_url.html">modify_url()</a></code> recognises more forms of empty queries. This eliminates a source of spurious trailing <code><a href="https://rdrr.io/r/utils/Question.html">?</a></code> and <code>?=</code> (<a href='https://github.com/jennybc'>@jennybc</a>, <a href='https://github.com/r-lib/httr/issues/452'>#452</a>).</p></li>
<li><p>The <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> method of the internal <code>path</code> class is no longer exported (<a href='https://github.com/r-lib/httr/issues/395'>#395</a>).</p></li>
</ul>
</div>
</div>
    <div id="httr-121" class="section level1">
<h1 class="page-header" data-toc-text="1.2.1">
<a href="#httr-121" class="anchor"></a>httr 1.2.1<small> 2016-07-03 </small>
</h1>
<ul>
<li>Fix bug with new cache creation code: need to check that cache isn’t an empty file.</li>
</ul>
</div>
    <div id="httr-120" class="section level1">
<h1 class="page-header" data-toc-text="1.2.0">
<a href="#httr-120" class="anchor"></a>httr 1.2.0<small> 2016-06-15 </small>
</h1>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li><p><code><a href="../reference/oauth_signature.html">oauth_signature()</a></code> no longer prepends ‘oauth_’ to additional parameters. (<a href='https://github.com/jimhester'>@jimhester</a>, <a href='https://github.com/r-lib/httr/issues/373'>#373</a>)</p></li>
<li><p>All <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> methods now invisibly return <code>x</code> (<a href='https://github.com/r-lib/httr/issues/355'>#355</a>).</p></li>
<li><p><code><a href="../reference/DELETE.html">DELETE()</a></code> gains a body parameter (<a href='https://github.com/r-lib/httr/issues/326'>#326</a>).</p></li>
<li><p>New <code>encode = "raw"</code> allows you to do your own encoding for requests with bodies.</p></li>
<li><p>New <code><a href="../reference/http_type.html">http_type()</a></code> returns the content/mime type of a request, sans parameters.</p></li>
</ul>
</div>
<div id="bug-fixes-and-minor-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-and-minor-improvements" class="anchor"></a>Bug fixes and minor improvements</h2>
<ul>
<li>
<p>No longer uses use custom requests for standard <code>POST</code> requests (<a href='https://github.com/r-lib/httr/issues/356'>#356</a>,</p>
<p><a href='https://github.com/r-lib/httr/issues/357'>#357</a>). This has the side-effect of properly following redirects after <code>POST</code>, fixing some login issues (eg hadley/rvest<a href='https://github.com/r-lib/httr/issues/133'>#133</a>).</p>
</li>
<li><p>Long deprecated <code>multipart</code> argument to <code><a href="../reference/POST.html">POST()</a></code>, <code><a href="../reference/PUT.html">PUT()</a></code> and <code><a href="../reference/PATCH.html">PATCH()</a></code> has been removed.</p></li>
<li><p>The cross-session OAuth cache is now created with permission 0600, and should give a better error if it can’t be created (<a href='https://github.com/r-lib/httr/issues/365'>#365</a>).</p></li>
<li><p>New <code><a href="../reference/RETRY.html">RETRY()</a></code> function allows you to retry a request multiple times until it succeeds (<a href='https://github.com/r-lib/httr/issues/353'>#353</a>).</p></li>
<li><p>The default user agent string is now computed once and cached. This is a small performance improvement, but important for local connections (<a href='https://github.com/r-lib/httr/issues/322'>#322</a>, <a href='https://github.com/richfitz'>@richfitz</a>).</p></li>
<li><p><code><a href="../reference/oauth_callback.html">oauth_callback()</a></code> gains trailing slash for facebook compatibility (<a href='https://github.com/r-lib/httr/issues/324'>#324</a>).</p></li>
<li><p><code><a href="../reference/progress.html">progress()</a></code> gains <code>con</code> argument to control where progress bar is rendered (<a href='https://github.com/r-lib/httr/issues/359'>#359</a>).</p></li>
<li><p>When <code>use_basic_auth</code> option is used to obtain a token, token refreshes will now use basic authentication too.</p></li>
<li><p>Suppress unhelpful “No encoding supplied: defaulting to UTF-8.” when printing a response (<a href='https://github.com/r-lib/httr/issues/327'>#327</a>).</p></li>
<li><p>All auto parser functions now have consistent arguments. This fixes problem where <code>...</code> is pass on to another function (<a href='https://github.com/r-lib/httr/issues/330'>#330</a>).</p></li>
<li><p><code><a href="../reference/parse_media.html">parse_media()</a></code> can once again parse multiple parameters (<a href='https://github.com/r-lib/httr/issues/362'>#362</a>, <a href='https://github.com/r-lib/httr/issues/366'>#366</a>).</p></li>
<li><p>Correctly cast <code>config</code> in <code><a href="../reference/POST.html">POST()</a></code>.</p></li>
<li><p>Fix in readfunction to close connection when done.</p></li>
</ul>
</div>
</div>
    <div id="httr-110" class="section level1">
<h1 class="page-header" data-toc-text="1.1.0">
<a href="#httr-110" class="anchor"></a>httr 1.1.0<small> 2016-01-28 </small>
</h1>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New features</h2>
<ul>
<li><p><code><a href="../reference/stop_for_status.html">stop_for_status()</a></code>, <code><a href="../reference/stop_for_status.html">warn_for_status()</a></code> and (new) <code><a href="../reference/stop_for_status.html">message_for_status()</a></code> replace <code>message</code> argument with new <code>task</code> argument that optionally describes the current task. This allows API wrappers to provide more informative error messages on failure (<a href='https://github.com/r-lib/httr/issues/277'>#277</a>, <a href='https://github.com/r-lib/httr/issues/302'>#302</a>). <code><a href="../reference/stop_for_status.html">stop_for_status()</a></code> and <code><a href="../reference/stop_for_status.html">warn_for_status()</a></code> return the response if there were no errors. This makes them easier to use in pipelines (<a href='https://github.com/r-lib/httr/issues/278'>#278</a>).</p></li>
<li><p><code><a href="../reference/http_error.html">url_ok()</a></code> and <code>url_successful()</code> have been deprecated in favour of the more flexible <code><a href="../reference/http_error.html">http_error()</a></code>, which works with urls, responses and integer status codes (<a href='https://github.com/r-lib/httr/issues/299'>#299</a>).</p></li>
</ul>
</div>
<div id="oauth-2" class="section level2">
<h2 class="hasAnchor">
<a href="#oauth-2" class="anchor"></a>OAuth</h2>
<ul>
<li><p><code><a href="../reference/oauth1.0_token.html">oauth1.0_token()</a></code> gains RSA-SHA1 signature support with the <code>private_key</code> argument (<a href='https://github.com/nathangoulding'>@nathangoulding</a>, <a href='https://github.com/r-lib/httr/issues/316'>#316</a>).</p></li>
<li>
<p><code><a href="../reference/oauth2.0_token.html">oauth2.0_token()</a></code> throws an error if it fails to get an access token (<a href='https://github.com/r-lib/httr/issues/250'>#250</a>) and gains two new arguments:</p>
<ul>
<li><p><code>user_params</code> allows you to pass arbitrary additional parameters to the token access endpoint when acquiring or refreshing a token (<a href='https://github.com/cornf4ke'>@cornf4ke</a>, <a href='https://github.com/r-lib/httr/issues/312'>#312</a>)</p></li>
<li><p><code>use_basic_auth</code> allows you to pick use http authentication when getting a token (<a href='https://github.com/r-lib/httr/issues/310'>#310</a>, <a href='https://github.com/grahamrp'>@grahamrp</a>).</p></li>
</ul>
</li>
<li><p><code><a href="../reference/oauth_service_token.html">oauth_service_token()</a></code> checks that its arguments are the correct types (<a href='https://github.com/r-lib/httr/issues/282'>#282</a>) and anways returns a <code>request</code> object (<a href='https://github.com/r-lib/httr/issues/313'>#313</a>, <a href='https://github.com/nathangoulding'>@nathangoulding</a>).</p></li>
<li><p><code>refresh_oauth2.0()</code> checks for known OAuth2.0 errors and clears the locally cached token in the presense of any (<a href='https://github.com/nathangoulding'>@nathangoulding</a>, <a href='https://github.com/r-lib/httr/issues/315'>#315</a>).</p></li>
</ul>
</div>
<div id="bug-fixes-and-minor-improvements-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-and-minor-improvements-1" class="anchor"></a>Bug fixes and minor improvements</h2>
<ul>
<li><p>httr no longer bundles <code>cacert.pem</code>, and instead it relies on the bundle in openssl. This bundle is only used a last-resort on windows with R &lt;3.2.0.</p></li>
<li><p>Switch to ‘openssl’ package for hashing, hmac, signatures, and base64.</p></li>
<li><p>httr no longer depends on stringr (<a href='https://github.com/r-lib/httr/issues/285'>#285</a>, <a href='https://github.com/jimhester'>@jimhester</a>).</p></li>
<li><p><code><a href="../reference/parse_url.html">build_url()</a></code> collapses vector <code>path</code> with <code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code> (<a href='https://github.com/r-lib/httr/issues/280'>#280</a>, <a href='https://github.com/artemklevtsov'>@artemklevtsov</a>).</p></li>
<li><p><code><a href="../reference/content.html">content(x)</a></code> uses xml2 for XML documents and readr for csv and tsv.</p></li>
<li><p><code><a href="../reference/content.html">content(, type = "text")</a></code> defaults to UTF-8 encoding if not otherwise specified.</p></li>
<li><p><code><a href="../reference/has_content.html">has_content()</a></code> correctly tests for the presence/absence of body content (<a href='https://github.com/r-lib/httr/issues/91'>#91</a>).</p></li>
<li><p><code><a href="../reference/parse_url.html">parse_url()</a></code> correctly parses urls like <code>file:///a/b/c</code> work (<a href='https://github.com/r-lib/httr/issues/309'>#309</a>).</p></li>
<li><p><code><a href="../reference/progress.html">progress()</a></code> returns <code>TRUE</code> to fix for ‘progress callback must return boolean’ warning (<a href='https://github.com/jeroenooms'>@jeroenooms</a>, <a href='https://github.com/r-lib/httr/issues/252'>#252</a>).</p></li>
<li><p><code><a href="../reference/upload_file.html">upload_file()</a></code> supports very large files (&gt; 2.5 Gb) (<a href='https://github.com/jeroenooms'>@jeroenooms</a>, <a href='https://github.com/r-lib/httr/issues/257'>#257</a>).</p></li>
</ul>
</div>
</div>
    <div id="httr-100" class="section level1">
<h1 class="page-header" data-toc-text="1.0.0">
<a href="#httr-100" class="anchor"></a>httr 1.0.0<small> 2015-06-25 </small>
</h1>
<ul>
<li><p>httr no longer uses the RCurl package. Instead it uses the curl package, a modern binding to libcurl written by Jeroen Ooms (<a href='https://github.com/r-lib/httr/issues/172'>#172</a>). This should make httr more reliable and prevent the “easy handle already used in multi handle” error. This change shouldn’t affect any code that uses httr - all the changes have happened behind the scenes.</p></li>
<li><p>The <code>oauth_listener</code> can now listen on a custom IP address and port (the previously hardwired ip:port of <code>127.0.0.1:1410</code> is now just the default). This permits authentication to work under other settings, such as inside docker containers (which require localhost uses <code>0.0.0.0</code> instead). To configure, set the system environmental variables <code>HTTR_LOCALHOST</code> and <code>HTTR_PORT</code> respectively (<a href='https://github.com/cboettig'>@cboettig</a>, <a href='https://github.com/r-lib/httr/issues/211'>#211</a>).</p></li>
<li><p><code><a href="../reference/POST.html">POST(encode = 'json')</a></code> now automatically turns length-1 vectors into json scalars. To prevent this automatic “unboxing”, wrap the vector in <code><a href="https://rdrr.io/r/base/AsIs.html">I()</a></code> (<a href='https://github.com/r-lib/httr/issues/187'>#187</a>).</p></li>
<li><p><code><a href="../reference/POST.html">POST()</a></code>, <code><a href="../reference/PUT.html">PUT()</a></code> and <code><a href="../reference/PATCH.html">PATCH()</a></code> now drop <code>NULL</code> body elements. This is convenient and consistent with the behaviour for url query params.</p></li>
</ul>
<div id="minor-improvements-and-bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-and-bug-fixes" class="anchor"></a>Minor improvements and bug fixes</h2>
<ul>
<li><p><code>cookies</code> argument to <code><a href="../reference/handle.html">handle()</a></code> is deprecated - cookies are always turned on by default.</p></li>
<li><p><code>brew_dr()</code> has been renamed to <code><a href="../reference/httr_dr.html">httr_dr()</a></code> - that’s what it should’ve been in the first place!</p></li>
<li><p><code><a href="../reference/content.html">content(type = "text")</a></code> compares encodings in a case-insensitive manner (<a href='https://github.com/r-lib/httr/issues/209'>#209</a>).</p></li>
<li><p><code>context(type = "auto")</code> uses a better strategy for text based formats (<a href='https://github.com/r-lib/httr/issues/209'>#209</a>). This should allow the <code>encoding</code> argument to work more reliably.</p></li>
<li><p><code><a href="../reference/config.html">config()</a></code> now cleans up duplicated options (<a href='https://github.com/r-lib/httr/issues/213'>#213</a>).</p></li>
<li><p>Uses <code>CURL_CA_BUNDLE</code> environment variable to look for cert bundle on Windows (<a href='https://github.com/r-lib/httr/issues/223'>#223</a>).</p></li>
<li><p><code>safe_callback()</code> is deprecated - it’s no longer needed with curl.</p></li>
<li><p><code><a href="../reference/POST.html">POST()</a></code> and <code><a href="../reference/PUT.html">PUT()</a></code> now clean up after themselves when uploading a single file (<a href='https://github.com/mtmorgan'>@mtmorgan</a>).</p></li>
<li><p><code>proxy()</code> gains an <code>auth</code> argument which allows you to pick the type of http authentication used by the proxy (<a href='https://github.com/r-lib/httr/issues/216'>#216</a>).</p></li>
<li><p><code><a href="../reference/VERB.html">VERB()</a></code> gains <code>body</code> and <code>encode</code> arguments so you can generate arbitrary requests with a body.</p></li>
<li><p>tumblr added as an <code>oauth_endpoint</code>.</p></li>
</ul>
</div>
</div>
    <div id="httr-061" class="section level1">
<h1 class="page-header" data-toc-text="0.6.1">
<a href="#httr-061" class="anchor"></a>httr 0.6.1<small> 2015-01-01 </small>
</h1>
<ul>
<li><p>Correctly parse headers with multiple <code><a href="https://rdrr.io/r/base/Colon.html">:</a></code>, thanks to <a href='https://github.com/mmorgan'>@mmorgan</a> (<a href='https://github.com/r-lib/httr/issues/180'>#180</a>).</p></li>
<li><p>In <code><a href="../reference/content.html">content()</a></code>, if no type is provided to function or specified in headers, and we can’t guess the type from the extension, we now assume that it’s <code>application/octet-stream</code> (<a href='https://github.com/r-lib/httr/issues/181'>#181</a>).</p></li>
<li><p>Throw error if <code><a href="../reference/timeout.html">timeout()</a></code> is less than 1 ms (<a href='https://github.com/r-lib/httr/issues/175'>#175</a>).</p></li>
<li><p>Improved LinkedIn OAuth demo (<a href='https://github.com/r-lib/httr/issues/173'>#173</a>).</p></li>
</ul>
</div>
    <div id="httr-060" class="section level1">
<h1 class="page-header" data-toc-text="0.6.0">
<a href="#httr-060" class="anchor"></a>httr 0.6.0<small> 2014-12-13 </small>
</h1>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New features</h2>
<ul>
<li><p>New <code><a href="../reference/write_stream.html">write_stream()</a></code> allows you to process the response from a server as a stream of raw vectors (<a href='https://github.com/r-lib/httr/issues/143'>#143</a>).</p></li>
<li><p>Suport for Google OAuth2 <a href="https://developers.google.com/accounts/docs/OAuth2ServiceAccount">service accounts</a>. (<a href='https://github.com/r-lib/httr/issues/119'>#119</a>, thanks to help from <a href='https://github.com/siddharthab'>@siddharthab</a>).</p></li>
<li><p><code><a href="../reference/VERB.html">VERB()</a></code> allows to you use custom http verbs (<a href='https://github.com/r-lib/httr/issues/169'>#169</a>).</p></li>
<li><p>New <code><a href="../reference/handle_pool.html">handle_reset()</a></code> to allow you to reset the handle if you get the error “easy handle already used in multi handle” (<a href='https://github.com/r-lib/httr/issues/112'>#112</a>).</p></li>
<li><p>Uses R6 instead of RC. This makes it possible to extend the OAuth classes from outside of httr (<a href='https://github.com/r-lib/httr/issues/113'>#113</a>).</p></li>
<li><p>Now only set <code>capath</code> on Windows - system defaults on linux and mac ox seem to be adequate (and in some cases better). I’ve added a couple of tests to ensure that this continues to work in the future.</p></li>
</ul>
</div>
<div id="minor-improvements-and-bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-and-bug-fixes-1" class="anchor"></a>Minor improvements and bug fixes</h2>
<ul>
<li><p><code><a href="../articles/api-packages.html">vignette("api-packages")</a></code> gains more detailed instructions on setting environment variables, thanks to <a href='https://github.com/jennybc'>@jennybc</a>.</p></li>
<li><p>Add <code><a href="../reference/revoke_all.html">revoke_all()</a></code> to revoke all stored tokens (if possible) (<a href='https://github.com/r-lib/httr/issues/77'>#77</a>).</p></li>
<li><p>Fix for OAuth 2 process when using <code><a href="https://rdrr.io/r/base/options.html">options(httr_oob_default = TRUE)</a></code> (<a href='https://github.com/r-lib/httr/issues/126'>#126</a>, <a href='https://github.com/WillemPaling'>@WillemPaling</a>).</p></li>
<li><p>New <code>brew_dr()</code> checks for common problems. Currently checks if your libCurl uses NSS. This is unlikely to work so it gives you some advice on how to fix the problem (thanks to <a href='https://github.com/eddelbuettel'>@eddelbuettel</a> for debugging this problem).</p></li>
<li><p><code>Content-Type</code> set to title case to avoid errors in servers which do not correctly implement case insensitivity in header names. (<a href='https://github.com/r-lib/httr/issues/142'>#142</a>, <a href='https://github.com/r-lib/httr/issues/146'>#146</a>) thanks to Håkon Malmedal (<a href='https://github.com/hmalmedal'>@hmalmedal</a>) and Jim Hester (<a href='https://github.com/jimhester'>@jimhester</a>).</p></li>
<li><p>Correctly parse http status when it only contains two components (<a href='https://github.com/r-lib/httr/issues/162'>#162</a>).</p></li>
<li><p>Correctly parse http headers when field name is followed by any amount (including none) of white space.</p></li>
<li><p>Default “Accepts” header set to <code>application/json, text/xml, application/xml, */*</code>: this should slightly increase the likelihood of getting xml back. <code>application/xml</code> is correctly converted to text before being parsed to <code>XML::xmlParse()</code> (<a href='https://github.com/r-lib/httr/issues/160'>#160</a>).</p></li>
<li><p>Make it again possible to override the content type set up by <code><a href="../reference/POST.html">POST()</a></code> when sending data (<a href='https://github.com/r-lib/httr/issues/140'>#140</a>).</p></li>
<li><p>New <code>safe_callback()</code> function operator that makes R functions safe for use as RCurl callbacks (<a href='https://github.com/r-lib/httr/issues/144'>#144</a>).</p></li>
<li><p>Added support for passing oauth1 tokens in URL instead of the headers (<a href='https://github.com/r-lib/httr/issues/145'>#145</a>, <a href='https://github.com/bogstag'>@bogstag</a>).</p></li>
<li><p>Default to out-of-band credential exchange when <code>httpuv</code> isn’t installed. (<a href='https://github.com/r-lib/httr/issues/168'>#168</a>)</p></li>
</ul>
</div>
<div id="deprecated-and-deleted-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#deprecated-and-deleted-functions" class="anchor"></a>Deprecated and deleted functions</h2>
<ul>
<li><p><code>new_token()</code> has been removed - this was always an internal function so you should never have been using it. If you were, switch to creating the tokens directly.</p></li>
<li><p>Deprecate <code><a href="../reference/guess_media.html">guess_media()</a></code>, and instead use <code><a href="https://rdrr.io/pkg/mime/man/guess_type.html">mime::guess_type()</a></code> (<a href='https://github.com/r-lib/httr/issues/148'>#148</a>).</p></li>
</ul>
</div>
</div>
    <div id="httr-05" class="section level1">
<h1 class="page-header" data-toc-text="0.5">
<a href="#httr-05" class="anchor"></a>httr 0.5<small> 2014-09-02 </small>
</h1>
<ul>
<li><p>You can now save response bodies directly to disk by using the <code><a href="../reference/write_disk.html">write_disk()</a></code> config. This is useful if you want to capture large files that don’t fit in memory (<a href='https://github.com/r-lib/httr/issues/44'>#44</a>).</p></li>
<li><p>Default accept header is now “application/json, text/xml, <em>/</em>” - this should encourage servers to send json or xml if they know how.</p></li>
<li><p><code><a href="../reference/httr_options.html">httr_options()</a></code> allows you to easily filter the options, e.g.  <code><a href="../reference/httr_options.html">httr_options("post")</a></code></p></li>
<li><p><code><a href="../reference/POST.html">POST()</a></code> now specifies Curl options more precisely so that Curl know’s that you’re doing a POST and can respond appropriately to redirects.</p></li>
</ul>
<div id="caching" class="section level2">
<h2 class="hasAnchor">
<a href="#caching" class="anchor"></a>Caching</h2>
<ul>
<li><p>Preliminary and experimental support for caching with <code><a href="../reference/cache_info.html">cache_info()</a></code> and <code><a href="../reference/cache_info.html">rerequest()</a></code> (<a href='https://github.com/r-lib/httr/issues/129'>#129</a>). Be aware that this API is likely to change in the future.</p></li>
<li><p><code><a href="../reference/parse_http_date.html">parse_http_date()</a></code> parses http dates according RFC2616 spec.</p></li>
<li><p>Requests now print the time they were made.</p></li>
<li><p>Mime type <code>application/xml</code> is automatically parsed with `<code>XML::xmlParse()</code>. (<a href='https://github.com/r-lib/httr/issues/128'>#128</a>)</p></li>
</ul>
</div>
<div id="minor-improvements-and-bug-fixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-and-bug-fixes-2" class="anchor"></a>Minor improvements and bug fixes</h2>
<ul>
<li><p>Now possible to specify both handle and url when making a request.</p></li>
<li><p><code><a href="../reference/content.html">content(type = "text")</a></code> uses <code><a href="https://rdrr.io/r/base/readBin.html">readBin()</a></code> instead of <code><a href="https://rdrr.io/r/base/rawConversion.html">rawToChar()</a></code> so that strings with embedded NULLs (e.g. WINDOWS-1252) can be re-encoded to UTF-8.</p></li>
<li><p><code><a href="../reference/DELETE.html">DELETE()</a></code> now returns body of request (<a href='https://github.com/r-lib/httr/issues/138'>#138</a>).</p></li>
<li><p><code><a href="../reference/headers.html">headers()</a></code> is now a generic with a method for response objects.</p></li>
<li><p><code><a href="../reference/parse_media.html">parse_media()</a></code> failed to take into account that media types are case-insenstive - this lead to bad re-encoding for content-types like “text/html; Charset=UTF-8”</p></li>
<li><p>Typo which broke <code><a href="../reference/set_cookies.html">set_cookies()</a></code> fixed by <a href='https://github.com/hrbrmstr'>@hrbrmstr</a>.</p></li>
<li><p><code><a href="../reference/http_error.html">url_ok()</a></code> works correctly now, instead of always returning <code>FALSE</code>, a bug since version 0.4 (<a href='https://github.com/r-lib/httr/issues/133'>#133</a>).</p></li>
<li><p>Remove redundant arguments <code>simplifyDataFrame</code> and <code>simplifyMatrix</code> for json parser.</p></li>
</ul>
</div>
</div>
    <div id="httr-04" class="section level1">
<h1 class="page-header" data-toc-text="0.4">
<a href="#httr-04" class="anchor"></a>httr 0.4<small> 2014-07-28 </small>
</h1>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New features</h2>
<ul>
<li><p>New <code><a href="../reference/headers.html">headers()</a></code> and <code><a href="../reference/cookies.html">cookies()</a></code> functions to extract headers and cookies from responses. Previoulsy internal <code><a href="../reference/status_code.html">status_code()</a></code> function now exported to extract <code><a href="../reference/status_code.html">status_code()</a></code> from responses.</p></li>
<li><p><code><a href="../reference/POST.html">POST()</a></code>, <code><a href="../reference/PUT.html">PUT()</a></code>, and <code><a href="../reference/PATCH.html">PATCH()</a></code> now use <code>encode</code> argument to determine how list inputs are encoded. Valid values are “multiple”, “form” or “json”. The <code>multipart</code> argument is now deprecated (<a href='https://github.com/r-lib/httr/issues/103'>#103</a>). You can stream a single file from disk with <code><a href="../reference/upload_file.html">upload_file("path/")</a></code>. The mime type will be guessed from the extension, or can be supplied explicitly as the second argument to <code><a href="../reference/upload_file.html">upload_file()</a></code>.</p></li>
<li><p><code><a href="../reference/progress.html">progress()</a></code> will display a progress bar, useful if you’re doing large uploads or downloads (<a href='https://github.com/r-lib/httr/issues/17'>#17</a>).</p></li>
<li><p><code><a href="../reference/verbose.html">verbose()</a></code> now uses a custom debug function so that you can see exactly what data is sent to the server. Arguments control exactly what is included, and the defaults have been selected to be more helpful for the most common cases (<a href='https://github.com/r-lib/httr/issues/102'>#102</a>).</p></li>
<li><p><code><a href="../reference/with_config.html">with_verbose()</a></code> makes it easier to see verbose information when http requests are made within other functions (<a href='https://github.com/r-lib/httr/issues/87'>#87</a>).</p></li>
</ul>
</div>
<div id="documentation-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation-improvements" class="anchor"></a>Documentation improvements</h2>
<ul>
<li><p>New <code>quickstart</code> vignette to help you get up and running with httr.</p></li>
<li><p>New <code>api-packages</code> vignette describes how best practices to follow when writing R packages that wrap web APIs.</p></li>
<li><p><code><a href="../reference/httr_options.html">httr_options()</a></code> lists all known config options, translating between their short R names and the full libcurl names. The <code>curl_doc()</code> helper function allows you to jump directly to the online documentation for an option.</p></li>
</ul>
</div>
<div id="minor-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements" class="anchor"></a>Minor improvements</h2>
<ul>
<li><p><code><a href="../reference/authenticate.html">authenticate()</a></code> now defaults to <code>type = "basic"</code> which is pretty much the only type of authentication anyone uses.</p></li>
<li><p>Updated <code>cacert.pem</code> to version at 2014-04-22 (<a href='https://github.com/r-lib/httr/issues/114'>#114</a>).</p></li>
<li><p><code><a href="../reference/content_type.html">content_type()</a></code>, <code><a href="../reference/content_type.html">content_type_xml()</a></code> and <code><a href="../reference/content_type.html">content_type_json()</a></code> make it easier to set the content type for <code>POST</code> requests (and other requests with a body).</p></li>
<li><p><code><a href="../reference/has_content.html">has_content()</a></code> tells you if request has any content associated with it (<a href='https://github.com/r-lib/httr/issues/91'>#91</a>).</p></li>
<li><p>Add <code>is_interactive()</code> parameter to <code><a href="../reference/oauth_listener.html">oauth_listener()</a></code>, <code><a href="../reference/init_oauth1.0.html">init_oauth1.0()</a></code> and <code><a href="../reference/init_oauth2.0.html">init_oauth2.0()</a></code> (<a href='https://github.com/r-lib/httr/issues/90'>#90</a>).</p></li>
<li><p><code><a href="../reference/oauth_signature.html">oauth_signature()</a></code> and <code><a href="../reference/oauth_signature.html">oauth_header()</a></code> now exported to make it easier to construct custom authentication for APIs that use only some components of the full OAuth process (e.g. 2 legged OAuth).</p></li>
<li><p>NULL <code>query</code> parameters are now dropped automatically.</p></li>
<li><p>When <code><a href="https://rdrr.io/r/base/print.html">print()</a></code>ing a response, httr will only attempt to print the first few lines if it’s a text format (i.e. either the main type is text or is application/json). It will also truncate each line so that it fits on screen - this should hopefully make it easier to see a little bit of the content, without filling the screen with gibberish.</p></li>
<li><p><code>new_bin()</code> has been removed: it’s easier to see what’s going on in examples with <code>httpbin.org</code>.</p></li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li><p><code><a href="../reference/user_agent.html">user_agent()</a></code> once again overrides default (closes <a href='https://github.com/r-lib/httr/issues/97'>#97</a>)</p></li>
<li><p><code><a href="https://rdrr.io/r/base/parse.html">parse(type = "auto")</a></code> returns NULL if no content associated with request (<a href='https://github.com/r-lib/httr/issues/91'>#91</a>).</p></li>
<li><p>Better strategy for resetting Curl handles prevents carry-over of error status and other problems (<a href='https://github.com/r-lib/httr/issues/112'>#112</a>).</p></li>
<li><p><code><a href="../reference/set_config.html">set_config()</a></code> and <code><a href="../reference/with_config.html">with_config()</a></code> now work with <code>token</code>s (<a href='https://github.com/r-lib/httr/issues/111'>#111</a>).</p></li>
</ul>
</div>
</div>
    <div id="httr-03" class="section level1">
<h1 class="page-header" data-toc-text="0.3">
<a href="#httr-03" class="anchor"></a>httr 0.3<small> 2014-03-20 </small>
</h1>
<div id="oauth-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#oauth-improvements" class="anchor"></a>OAuth improvements</h2>
<p>OAuth 2.0 has recieved a major overhaul in this version. The authentication dance now works in more environments (including RStudio), and is generally a little faster. When working on a remote server, or if R’s internet connection is constrained in other ways, you can now use out-of-band authentication, copying and pasting from any browser to your R session. OAuth tokens from endpoints that regularly expire access tokens can now be refreshed, and will be refresh automatically on authentication failure.</p>
<p>httr now uses project (working directory) based caching: every time you create or refresh a token, a copy of the credentials will be saved in <code>.httr-oauth</code>. You can override this default for individual tokens with the <code>cache</code> parameter, or globally with the <code>httr_oauth_cache</code> option. Supply either a logical vector (<code>TRUE</code> = always cache, <code>FALSE</code> = never cache, <code>NA</code> = ask), or a string (the path to the cache file).</p>
<p>You should NOT include this cache file in source code control - if you do, delete it, and reset your access token through the corresponding web interface. To help, httr will automatically add appropriate entries to <code>.gitignore</code> and <code>.Rbuildignore</code>.</p>
<p>These changes mean that you should only ever have to authenticate once per project, and you can authenticate from any environment in which you can run R. A big thanks go to Craig Citro (<a href='https://github.com/craigcitro'>@craigcitro</a>) from google, who contributed much code and many ideas to make this possible.</p>
<ul>
<li><p>The OAuth token objects are now reference classes, which mean they can be updated in place, such as when an access token expires and needs to be refreshed. You can manually refresh by calling <code>$refresh()</code> on the object. You can force reinitialisation (to do the complete dance from scratch) by calling <code>$reinit(force = TRUE)</code>.</p></li>
<li><p>If a signed OAuth2 request fails with a 401 and the credentials have a <code>refresh_token</code>, then the OAuth token will be automatically refreshed (<a href='https://github.com/r-lib/httr/issues/74'>#74</a>).</p></li>
<li><p>OAuth tokens are cached locally in a file called <code>.httr-oauth</code> (unless you opt out). This file should not be included in source code control, and httr will automatically add to <code>.gitignore</code> and <code>.Rbuildignore</code>. The caching policy is described in more detail in the help for the <code>Token</code> class.</p></li>
<li><p>The OAuth2 dance can now be performed without running a local webserver (<a href='https://github.com/r-lib/httr/issues/33'>#33</a>, thanks to <a href='https://github.com/craigcitro'>@craigcitro</a>). To make that the default, set <code><a href="https://rdrr.io/r/base/options.html">options(httr_oob_default = TRUE)</a></code>. This is useful when running R remotely.</p></li>
<li><p>Add support for passing oauth2 tokens in headers instead of the URL, and make this the default (<a href='https://github.com/r-lib/httr/issues/34'>#34</a>, thanks to <a href='https://github.com/craigcitro'>@craigcitro</a>).</p></li>
<li><p>OAuth endpoints can store arbitrary extra urls.</p></li>
<li><p>Use the httpuv webserver for the OAuth dance instead of the built-in httpd server (<a href='https://github.com/r-lib/httr/issues/32'>#32</a>, thanks to <a href='https://github.com/jdeboer'>@jdeboer</a>). This makes the dance work in Rstudio, and also seems a little faster. Rook is no longer required.</p></li>
<li><p><code><a href="../reference/oauth_endpoints.html">oauth_endpoints()</a></code> includes some popular OAuth endpoints.</p></li>
</ul>
</div>
<div id="other-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#other-improvements" class="anchor"></a>Other improvements</h2>
<ul>
<li><p>HTTP verbs (<code><a href="../reference/GET.html">GET()</a></code>, <code><a href="../reference/POST.html">POST()</a></code> etc) now pass unnamed arguments to <code><a href="../reference/config.html">config()</a></code> and named arguments to <code><a href="../reference/modify_url.html">modify_url()</a></code> (<a href='https://github.com/r-lib/httr/issues/81'>#81</a>).</p></li>
<li><p>The placement of <code>...</code> in <code><a href="../reference/POST.html">POST()</a></code>, <code><a href="../reference/PATCH.html">PATCH()</a></code> and <code><a href="../reference/PUT.html">PUT()</a></code> has been tweaked so that you must always specify <code>body</code> and <code>multipart</code> arguments with their full name. This has always been recommended practice; now it is enforced.</p></li>
<li><p><code>httr</code> includes its own copy of <code>cacert.pem</code>, which is more recent than the version included in RCurl (<a href='https://github.com/r-lib/httr/issues/67'>#67</a>).</p></li>
<li><p>Added default user agent which includes versions of Curl, RCurl and httr.</p></li>
<li><p>Switched to jsonlite from rjson.</p></li>
<li><p>Content parsers no longer load packages on to search path.</p></li>
<li><p><code><a href="../reference/stop_for_status.html">stop_for_status()</a></code> now raises errors with useful classes so that you can use <code><a href="https://rdrr.io/r/base/conditions.html">tryCatch()</a></code> to take different actions depending on the type of error. See <code><a href="../reference/http_condition.html">http_condition()</a></code> for more details.</p></li>
<li><p>httr now imports the methods package so that it works when called with Rscript.</p></li>
<li><p>New automatic parsers for mime types <code>text/tab-separated-values</code> and <code>text/csv</code> (<a href='https://github.com/r-lib/httr/issues/49'>#49</a>)</p></li>
<li><p>Add support for <code>fragment</code> in url building/parsing (<a href='https://github.com/r-lib/httr/issues/70'>#70</a>, thanks to <a href='https://github.com/craigcitro'>@craigcitro</a>).</p></li>
<li><p>You can suppress the body entirely in <code><a href="../reference/POST.html">POST()</a></code>, <code><a href="../reference/PATCH.html">PATCH()</a></code> and <code><a href="../reference/PUT.html">PUT()</a></code> with <code>body = FALSE</code>.</p></li>
</ul>
</div>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug fixes</h2>
<ul>
<li><p>If you supply multiple headers of the same name, the value of the most recently set header will always be used.</p></li>
<li><p>Urls with missing query param values (e.g. <code>http://x.com/?q=</code>) are now parsed correctly (<a href='https://github.com/r-lib/httr/issues/27'>#27</a>). The names of query params are now also escaped and unescaped correctly when parsing and building urls.</p></li>
<li><p>Default html parser is now <code>XML::htmlParse()</code> which is easier to use with xpath (<a href='https://github.com/r-lib/httr/issues/66'>#66</a>).</p></li>
</ul>
</div>
</div>
    <div id="httr-02" class="section level1">
<h1 class="page-header" data-toc-text="0.2">
<a href="#httr-02" class="anchor"></a>httr 0.2<small> 2012-10-11 </small>
</h1>
<ul>
<li><p>OAuth now uses custom escaping function which is guaranteed to work on all platforms (Fixes <a href='https://github.com/r-lib/httr/issues/21'>#21</a>)</p></li>
<li><p>When concatenating configs, concatenate all the headers. (Fixes <a href='https://github.com/r-lib/httr/issues/19'>#19</a>)</p></li>
<li><p>export <code>hmac_sha1</code> since so many authentication protocols need this</p></li>
<li><p><code>content</code> will automatically guess what type of output (parsed, text or raw) based on the content-type header. It also automatically converts text content to UTF-8 (using the charset in the media type) and can guess at mime type from extension if server doesn’t supply one. Media type and encoding can be overridden with the <code>type</code> and <code>encoding</code> arguments respectively.</p></li>
<li><p>response objects automatically print content type to aid debugging.</p></li>
<li><p><code>text_content</code> has become <code>context(, "text")</code> and <code>parsed_content</code> <code><a href="../reference/content.html">content(, "parsed")</a></code>. The previous calls are deprecated and will be removed in a future version.</p></li>
<li><p>In <code>oauth_listener</code>, use existing httpd port if help server has already been started. This allows the ouath authentication dance to work if you’re in RStudio. (Fixes <a href='https://github.com/r-lib/httr/issues/15'>#15</a>).</p></li>
<li><p>add several functions related to checking the status of an http request. Those are : <code>status</code>, <code>url_ok</code> and <code>url_success</code> as well as <code>stop_for_status</code> and <code>warn_for_status</code>.</p></li>
<li><p><code>build_url</code>: correctly add params back into full url.</p></li>
</ul>
</div>
    <div id="httr-011" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1">
<a href="#httr-011" class="anchor"></a>httr 0.1.1<small> 2012-06-19 </small>
</h1>
<ul>
<li><p>Add new default config: use the standard SSL certificate</p></li>
<li><p>Add recommendation to use custom handles with <code>authenticate</code></p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


